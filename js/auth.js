const{ipcRenderer}=require("electron");(function(){window.matchMedia("(prefers-color-scheme:dark)").matches?(currentTheme="condutiontheme-default-dark",$("body").removeClass(),$("body").addClass(currentTheme),$("#loading").hide().css("display","flex").fadeIn()):(currentTheme="condutiontheme-default-light",$("body").removeClass(),$("body").addClass(currentTheme),$("#loading").hide().css("display","flex").fadeIn()),ipcRenderer.on("systheme-dark",function(){currentTheme="condutiontheme-default-dark",$("body").removeClass(),$("body").addClass(currentTheme)}),ipcRenderer.on("systheme-light",function(){currentTheme="condutiontheme-default-light",$("body").removeClass(),$("body").addClass(currentTheme)});let a="login";lottie.loadAnimation({container:$("#loading-anim")[0],renderer:"svg",autoplay:!0,loop:!0,path:"static/loadanim_final.json"}),$("#loading").hide().css("display","flex").fadeIn();const b=require("./backend_src/secrets");firebase.initializeApp(b.dbkeys.deploy);let c=!1,d=function(){if(c){var a=firebase.auth().currentUser;a.updateProfile({displayName:$("#name").val()}),window.location="app.html",c=!1}firebase.auth().signInWithEmailAndPassword($("#email").val(),$("#password").val()).then(function(){firebase.auth().currentUser.emailVerified?window.location="app.html":(firebase.auth().currentUser.sendEmailVerification(),$("#auth-left-menu").fadeIn(),$("#need-verify").fadeIn(),$("#recover-password").fadeOut(),$("#loading").fadeOut(),$("#authwall").fadeIn())}).catch(function(a){console.log(a),console.log("Silly goose");const b=a.code,c=a.message;$(".auth-upf").addClass("wrong")})},e=function(){firebase.auth().sendPasswordResetEmail($("#email").val()).then(function(){$(".auth-upf").removeClass("wrong"),$("#password").show(),$("#newuser").html("Make an account."),$("#newuser").show(),$("#recover-password").html("Recover Password"),$("#greeting-auth-normal").html("Let's authenticate. Otherwise this may not be useful..."),$("#recover-password").fadeOut(),$("#need-verify").fadeIn()}).catch(function(){$(".auth-upf").addClass("wrong")})},f=function(){firebase.auth().createUserWithEmailAndPassword($("#email").val(),$("#password").val()).catch(function(){console.log("Silly goose")}),$("#need-verify").fadeIn(),$("#recover-password").fadeOut(),c=!0};$("#password").keydown(function(b){13==b.keyCode&&("login"===a?d():"newuser"===a?f():void 0)}),$("#login").click(function(){"login"===a?d():"newuser"===a?f():"recover"===a?e():void 0}),$("#recover-password").click(function(){"login"==a?($("#password").hide(),$("#recover-password").html("Remembered? Login"),$("#newuser").hide(),$("#greeting-auth-normal").html("No worries! Let's recover your password."),a="recover"):"newuser"===a?($("#name-tray").hide(),$("#password").hide(),$("#recover-password").html("Remembered? Login"),$("#newuser").hide(),$("#greeting-auth-normal").html("No worries! Let's recover your password."),a="recover"):"recover"===a?($("#password").show(),$("#newuser").html("Make an account."),$("#newuser").show(),$("#recover-password").html("Recover Password"),$("#greeting-auth-normal").html("Let's authenticate. Otherwise this may not be useful..."),a="login"):void 0}),$("#newuser").click(function(){"login"==a?($("#name-tray").slideDown(300),$(this).html("Sign in."),a="newuser",$("#greeting-auth-normal").html(`Welcome aboard! It is possible that we will loose your data...`)):"newuser"===a?($("#name-tray").slideUp(300),$(this).html("Make an account."),$("#greeting-auth-normal").html("Let's authenticate. Otherwise this may not be useful..."),a="login"):void 0}),firebase.auth().onAuthStateChanged(a=>{a?a.emailVerified?window.location="app.html":(a.sendEmailVerification(),$("#auth-left-menu").fadeIn(),$("#need-verify").fadeIn(),$("#recover-password").fadeOut(),$("#loading").fadeOut(),$("#authwall").fadeIn()):($("#loading").fadeOut(),$("#authwall").fadeIn(),$("#auth-left-menu").fadeIn())});const g=["Hello there!","Hey!","G'day!","What's up!","Howdy!","Yo!"];$("#greeting-auth").html(g[Math.floor(Math.random()*g.length)])})(),console.log("%cSTOP! ","background: #fff0f0; color: #434d5f; font-size: 80px"),console.log("%cClose this panel now.","background: #fff0f0;color: red; font-size: 50px"),console.log("%c19/10 change you are either terribly smart person and should work with us (hliu@shabang.cf) or are being taken advantanged of by a very terrible person. ","background: #fff0f0; color: #434d5f; font-size: 20px"),console.log("%cPlease help us to help you... Don't self XSS yourself.","background: #fff0f0; color: #434d5f; font-size: 15px");
